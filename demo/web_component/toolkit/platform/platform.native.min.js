function SideTableInherit(e){this.map=new SideTable(e)}function PointerGestureEvent(e,t){var n=t||{},i=document.createEvent("Event"),r={bubbles:!0,cancelable:!0};return Object.keys(r).forEach(function(e){e in n&&(r[e]=n[e])}),i.initEvent(e,r.bubbles,r.cancelable),Object.keys(n).forEach(function(e){i[e]=t[e]}),i.preventTap=this.preventTap,i}(function(){window.templateContent=window.templateContent||function(e){return e.content},window.wrap=window.unwrap=function(e){return e},window.createShadowRoot=function(e){return e.webkitCreateShadowRoot()},window.templateContent=function(e){if(window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(e),!e.content&&!e._content){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e._content=t}return e.content||e._content}})(),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(e,i)}}),function(){"use strict";var e=DOMTokenList.prototype.add,t=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var t=0;arguments.length>t;t++)e.call(this,arguments[t])},DOMTokenList.prototype.remove=function(){for(var e=0;arguments.length>e;e++)t.call(this,arguments[e])},DOMTokenList.prototype.toggle=function(e,t){1==arguments.length&&(t=!this.contains(e)),t?this.add(e):this.remove(e)},window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}())}(),window.templateContent=window.templateContent||function(e){return e.content},function(){var e;window.sinspect=function(n,i){e||(e=window.open("","ShadowDOM Inspector",null,!0),e.document.write(t),e.api={shadowize:shadowize}),r(n||wrap(document.body),i)};var t=["<!DOCTYPE html>","<html>","  <head>","    <title>ShadowDOM Inspector</title>","    <style>","      body {","      }","      pre {",'        font: 9pt "Courier New", monospace;',"        line-height: 1.5em;","      }","      tag {","        color: purple;","      }","      ul {","         margin: 0;","         padding: 0;","         list-style: none;","      }","      li {","         display: inline-block;","         background-color: #f1f1f1;","         padding: 4px 6px;","         border-radius: 4px;","         margin-right: 4px;","      }","    </style>","  </head>","  <body>",'    <ul id="crumbs">',"    </ul>",'    <div id="tree"></div>',"  </body>","</html>"].join("\n"),n=[],i=function(){var t=e.document,i=t.querySelector("#crumbs");i.textContent="";for(var o,a=0;o=n[a];a++){var s=t.createElement("a");s.href="#",s.textContent=o.localName,s.idx=a,s.onclick=function(e){for(var t;n.length>this.idx;)t=n.pop();r(t.shadow||t,t),e.preventDefault()},i.appendChild(t.createElement("li")).appendChild(s)}},r=function(t,r){var o=e.document;u=[];var a=r||t;n.push(a),i(),o.body.querySelector("#tree").innerHTML="<pre>"+c(t,t.childNodes)+"</pre>"},o=Array.prototype.forEach.call.bind(Array.prototype.forEach),a={STYLE:1,SCRIPT:1,"#comment":1,TEMPLATE:1},s=function(e){return a[e.nodeName]},c=function(e,t,n){if(s(e))return"";var i=n||"";if(e.localName||11==e.nodeType){var r=e.localName||"shadow-root",a=i+h(e);"content"==r&&(t=e.getDistributedNodes()),a+="<br/>";var u=i+"&nbsp;&nbsp;";o(t,function(e){a+=c(e,e.childNodes,u)}),a+=i,{br:1}[r]||(a+="<tag>&lt;/"+r+"&gt;</tag>",a+="<br/>")}else{var l=e.textContent.trim();a=l?i+'"'+l+'"'+"<br/>":""}return a},u=[],h=function(e){var t="<tag>&lt;",n=e.localName||"shadow-root";return e.webkitShadowRoot||e.shadowRoot?(t+=' <button idx="'+u.length+'" onclick="api.shadowize.call(this)">'+n+"</button>",u.push(e)):t+=n||"shadow-root",e.attributes&&o(e.attributes,function(e){t+=" "+e.name+(e.value?'="'+e.value+'"':"")}),t+="&gt;</tag>"};shadowize=function(){var e=Number(this.attributes.idx.value),t=u[e];t?r(t.webkitShadowRoot||t.shadowRoot,t):(console.log("bad shadowize node"),console.dir(this))}}(),function(e){"use strict";function t(){this.entries=[]}function n(){this.entries={},this.size=0}function i(e,t){this.scoreFunction=e,this.content=t||[],this.content.length&&this.build()}function r(e){this.stayFunc=e,this.methods=new t}function o(e,t){this.constraint=e,this.variable=t}function a(e){this.planner=e,this.methods=[]}function s(){this.variables=[],this.constraints=[],this.variableUIDCounter=1,this.methodUIDCounter=1}t.prototype={add:function(e){this.entries.indexOf(e)>=0||this.entries.push(e)},"delete":function(e){var t=this.entries.indexOf(e);0>t||this.entries.splice(t,1)},first:function(){return this.entries[0]},get size(){return this.entries.length}},n.prototype={add:function(e){void 0===this.entries[e.__UID__]&&(this.entries[e.__UID__]=e,this.size++)},"delete":function(e){void 0!==this.entries[e.__UID__]&&(this.entries[e.__UID__]=void 0,this.size--)}},i.prototype={get size(){return this.content.length},build:function(){for(var e=Math.floor(this.content.length/2)-1,t=e;t>=0;t--)this.sinkDown(t)},push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length&&(this.content[0]=t,this.sinkDown(0)),e},"delete":function(e){for(var t=this.content.length,n=0;t>n;n++)if(this.content[n]==e){var i=this.content.pop();return n!=t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(node)?this.bubbleUp(n):this.sinkDown(n)),void 0}},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(this.scoreFunction(t)<=this.scoreFunction(i))break;this.content[n]=t,this.content[e]=i,e=n}},sinkDown:function(e){var t=this.content.length,n=this.content[e],i=this.scoreFunction(n);do{var r=2*(e+1),o=r-1,a=null,s=i;if(t>o){var c=this.content[o],u=this.scoreFunction(c);u>i&&(a=o,s=u)}if(t>r){var h=this.content[r],l=this.scoreFunction(h);l>s&&(a=r)}null!=a&&(this.content[e]=this.content[a],this.content[a]=n,e=a)}while(null!=a)}},r.prototype={freeMethod:function(){return this.methods.first()}},a.prototype={addMethod:function(e){var t=new o(this,e);return this.methods.push(t),t.__UID__=this.planner.methodUIDCounter++,t},reset:function(){this.methods.forEach(function(e){e.variable.methods.add(e)})},remove:function(){this.methods.forEach(function(e){e.variable.methods.delete(e)})}},s.prototype={addVariable:function(e){var t=new r(e);return t.__UID__=this.variableUIDCounter++,this.variables.push(t),t},addConstraint:function(){var e=new a(this);return this.constraints.push(e),e},removeConstraint:function(e){var t=this.constraints.indexOf(e);0>t||(e.remove(),this.constraints.splice(t,1),this.constraints.forEach(function(e){e.reset()}),this.variables=this.variables.filter(function(e){return e.methods.size}))},getPlan:function(){this.variables.forEach(function(e){e.priority=e.stayFunc()}),this.constraints.forEach(function(e){e.reset()});var e=[],t=[],r=new n;for(this.variables.forEach(function(e){var n=e.methods.size;n>1?r.add(e):1==n&&t.push(e)}),t=new i(function(e){return e.priority},t);t.size;){var o;do o=t.pop();while(t.size&&!o.methods.size);if(!o.methods.size)break;var a=o.freeMethod(),s=a.constraint;s.remove(),s.methods.forEach(function(e){var n=e.variable;1==n.methods.size&&(r.delete(n),t.push(n))}),e.push(a)}return r.size?void 0:e.reverse()}},e.Planner=s}(this),function(e){"use strict";function t(e){return+e===e>>>0}function n(e){return+e}function i(e){return e===Object(e)}function r(e,t){return e===t?0!==e||1/e===1/t:x(e)&&x(t)?!0:e!==e&&t!==t}function o(){function e(e){var t=n.get(e);return t||(t=Object.create(null),n.set(e,t)),t}function t(e){if(null===e)return"$0";var t,n;switch(typeof e){case"undefined":return"$1";case"boolean":return"$"+(e+2);case"object":case"function":return n=i.get(e),n||(n="$"+a++,i.set(e,n)),n;case"number":t=r;break;case"string":t=o}return n=t[e],n||(n="$"+a++,t[e]=n),n}if(!Map.prototype.forEach||!Set.prototype.forEach){var n=new WeakMap,i=new WeakMap,r=Object.create(null),o=Object.create(null),a=4,s=Map.prototype.set,c=Map.prototype.delete,u=Set.prototype.add,h=Set.prototype.delete;Map.prototype.set=function(n,i){var r=t(n),o=e(this);return o[r]=n,s.call(this,n,i)},Map.prototype.delete=function(n){var i=t(n),r=e(this);return delete r[i],c.call(this,n)},Map.prototype.forEach=function(t,n){var i=e(this);for(var r in i){var o=i[r],a=this.get(o);t.call(n||this,a,o,this)}},Set.prototype.add=function(n){var i=t(n),r=e(this);return r[i]=n,u.call(this,n)},Set.prototype.delete=function(n){var i=t(n),r=e(this);return delete r[i],h.call(this,n)},Set.prototype.forEach=function(t,n){var i=e(this);for(var r in i){var o=i[r];t.call(n||this,o,o,this)}},Map.getValueSet=function(e){var t=new Set;return e.forEach(function(e){t.add(e)}),t}}}function a(e){function t(){this.values_=[],this.keys_=[]}function n(){this.keys_=[]}t.prototype={get:function(e){return this.values_[this.keys_.indexOf(e)]},set:function(e,t){var n=this.keys_.indexOf(e);0>n&&(n=this.keys_.length),this.keys_[n]=e,this.values_[n]=t},has:function(e){return this.keys_.indexOf(e)>=0},"delete":function(e){var t=this.keys_.indexOf(e);return 0>t?!1:(this.keys_.splice(t,1),this.values_.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys_.length>n;n++)e.call(t||this,this.values_[n],this.keys_[n],this)},get size(){return this.keys_.length}},n.prototype={add:function(e){0>this.keys_.indexOf(e)&&this.keys_.push(e)},has:function(e){return this.keys_.indexOf(e)>=0},"delete":function(e){var t=this.keys_.indexOf(e);return 0>t?!1:(this.keys_.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys_.length>n;n++)e.call(t||this,this.keys_[n],this.keys_[n],this)},get size(){return this.keys_.length}},t.getValueSet=function(e){var t=new n;return t.keys_=e.values_.slice(),t},e.Map=t,e.Set=n}function s(e){return"string"!=typeof e?!1:(e=e.replace(/\s/g,""),""==e?!0:"."==e[0]?!1:D.test(e))}function c(e){return""==e.trim()?this:t(e)?(this.push(String(e)),this):(e.split(/\./).filter(function(e){return e}).forEach(function(e){this.push(e)},this),void 0)}function u(e){var t,n=!0,r=!1,o=!1,a=!1,u={objectObservers:new Map,getObjectObserver:function(e){return this.objectObservers.get(e)},getOrCreateObjectObserver:function(e){var t=this.objectObservers.get(e);return t||(t=new E(this,e),this.objectObservers.set(e,t)),t},removeObjectObserver:function(e){this.objectObservers.delete(e)},addPathTracker:function(e,t){this.getOrCreateObjectObserver(e).addPathTracker(t)},removePathTracker:function(e,t){this.getObjectObserver(e).removePathTracker(t)},connect:function(){this.objectObservers.forEach(function(e){e.connect()})},disconnect:function(){this.objectObservers.forEach(function(e){e.disconnect()})},internalCallback:function(e){if(!e||!e.length)return console.error("Object.observe callback called with no records"),void 0;try{o||(this.activeObservers=new Set);for(var t,n,i=0;e.length>i;i++){var r=e[i];if(t!==r.object){if(t=r.object,n=this.getObjectObserver(t),!n){t=void 0;continue}this.activeObservers.add(n)}n.addChangeRecord(r)}if(o)return;o=!0,this.deliverSummaries(),o=!1}catch(a){console.error(a)}},dirtyCheck:function(){var e=0;do try{e++,this.activeObservers=Map.getValueSet(this.objectObservers),this.deliverSummaries()}catch(t){console.error(t)}while(a&&H>e)},deliverSummaries:function(){return t=[],this.activeObservers.forEach(function(e){e.checkPathValues()}),this.activeObservers.forEach(function(e){e.checkObjectsAndArrays()}),this.activeObservers.forEach(function(e){var n=e.produceSummary();e.reset(),n&&t.push(n)}),this.activeObservers=void 0,t.length||(t=void 0),r||!t?(a=!1,void 0):(e(t),t=void 0,a=!0,void 0)}};if(u.callback=u.internalCallback.bind(u),N){var h={};Object.observe(h,u.callback),Object.unobserve(h,u.callback)}this.observeObject=function(e){if(!i(e))throw Error("Invalid attempt to observe non-object: "+e);u.getOrCreateObjectObserver(e).observeObject()},this.unobserveObject=function(e){if(!i(e))throw Error("Invalid attempt to unobserve non-object: "+e);var t=u.getObjectObserver(e);t&&t.unobserveObject()},this.observeArray=function(e){if(!Array.isArray(e))throw Error("Invalid attempt to observe non-array: "+e);u.getOrCreateObjectObserver(e).observeArray()},this.unobserveArray=function(e){if(Array.isArray(e)){var t=u.getObjectObserver(e);t&&t.unobserveArray()}},this.observePath=function(e,t){if(!s(t))return void 0;var n=new c(t);if(!n.length)return e;if(!i(e))return void 0;var r=u.getOrCreateObjectObserver(e).observePath(n);return r.value},this.unobservePath=function(e,t){if(s(t)){var n=new c(t);if(n.length&&i(e)){var r=u.getObjectObserver(e);r&&r.unobservePath(n)}}},this.deliver=function(){if(!n)throw Error("Disconnected");N?Object.deliverChangeRecords(u.callback):u.dirtyCheck()},this.disconnect=function(){if(n&&(r=!0,this.deliver(),r=!1,u.disconnect(),n=!1,t)){var e=t;return t=void 0,e}},this.connect=function(){n||(u.connect(),n=!0)}}function h(e){var t="",n="obj",i=e.length;t+="if (obj";for(var r=0;i-1>r;r++){var o='["'+e[r]+'"]';n+=o,t+=" && "+n}return t+=") ",n+='["'+e[i-1]+'"]',t+="return "+n+"; else return undefined;",new Function("obj",t)}function l(e,t){var n=t.toString();return R[n]||(R[n]=h(t)),R[n](e)}function d(e,t){var n;return t.walkPropertiesFrom(e,function(e,i,r){r===t.length&&(n=i)}),n}function p(e,t,n){var r=!1;return t.walkPropertiesFrom(e,function(e,o,a){i(o)&&a==t.length-1&&(r=!0,o[e]=n)}),r}function f(e){for(var t in e)return!1;return!0}function v(e){return f(e.added)&&f(e.removed)&&f(e.changed)}function m(e,t){var n={},i={},r={};for(var o in t){var a=e[o];(void 0===a||a!==t[o])&&(o in e?a!==t[o]&&(r[o]=a):i[o]=void 0)}for(var o in e)o in t||(n[o]=e[o]);return Array.isArray(e)&&e.length!==t.length&&(r.length=e.length),{added:n,removed:i,changed:r}}function b(e,t){var n=t||(Array.isArray(e)?[]:{});for(var i in e)n[i]=e[i];return Array.isArray(e)&&(n.length=e.length),n}function g(e){this.object=e,this.changed=!1,this.diff=void 0,this.oldValues=void 0,this.reset(!0)}function y(e){this.array=e,this.changed=!1,this.splices=void 0,this.reset(!0)}function w(e,t,n,i){this.object=e,this.path=t,this.pathString=n,this.observed=t.length>1?new Array(t.length-2):void 0,this.changed=!1,this.oldValue=void 0,this.internal=i,this.reset(!0)}function E(e,t){this.internal=e,this.object=t,this.objectTracker=void 0,this.arrayTracker=void 0,this.pathTrackers=void 0,this.pathTrackerMap=void 0,this.changeRecords=void 0,this.dirtyPathTrackers=void 0,this.connect()}function T(e,t,n){for(var i={},r={},o=0;t.length>o;o++){var a=t[o];Y[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in i?(delete i[a.name],delete n[a.name]):r[a.name]=!0:a.name in r?delete r[a.name]:i[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in i)i[s]=e[s];for(var s in r)r[s]=void 0;var c={};for(var s in n)if(!(s in i||s in r)){var u=e[s];n[s]!==u&&(c[s]=u)}return{added:i,removed:r,changed:c}}function O(e,t,n,i,r,o){for(var a=o-r+1,s=n-t+1,c=new Array(a),u=0;a>u;u++)c[u]=new Array(s),c[u][0]=u;for(var h=0;s>h;h++)c[0][h]=h;for(var u=1;a>u;u++)for(var h=1;s>h;h++)if(i[r+u-1]===e[t+h-1])c[u][h]=c[u-1][h-1];else{var l=c[u-1][h]+1,d=c[u][h-1]+1;c[u][h]=d>l?l:d}return c}function _(e){for(var t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];t>0||n>0;)if(0!=t)if(0!=n){var o,a=e[t-1][n-1],s=e[t-1][n],c=e[t][n-1];o=c>s?a>s?s:a:a>c?c:a,o==a?(a==i?r.push(W):(r.push(B),i=a),t--,n--):o==s?(r.push(q),t--,i=s):(r.push(X),n--,i=c)}else r.push(q),t--;else r.push(X),n--;return r.reverse(),r}function M(e,t,n){for(var i=0;n>i;i++)if(e[i]!==t[i])return i;return n}function S(e,t,n){for(var i=e.length,r=t.length,o=0;n>o&&e[--i]===t[--r];)o++;return o}function P(e,t,n,i,r,o){function a(e,t,n){return{index:e,removed:t,addedCount:n}}var s=0,c=0,u=Math.min(n-t,o-r);if(0==t&&0==r&&(s=M(e,i,u)),n==e.length&&o==i.length&&(c=S(e,i,u-s)),t+=s,r+=s,n-=c,o-=c,0==n-t&&0==o-r)return[];if(t==n){for(var h=a(t,[],0);o>r;)h.removed.push(i[r++]);return[h]}if(r==o)return[a(t,[],n-t)];for(var l=_(O(e,t,n,i,r,o)),h=void 0,d=[],p=t,f=r,v=0;l.length>v;v++)switch(l[v]){case W:h&&(d.push(h),h=void 0),p++,f++;break;case B:h||(h=a(p,[],0)),h.addedCount++,p++,h.removed.push(i[f]),f++;break;case X:h||(h=a(p,[],0)),h.addedCount++,p++;break;case q:h||(h=a(p,[],0)),h.removed.push(i[f]),f++}return h&&d.push(h),d}function k(e,t,i){function r(t,i){Object.keys(t).forEach(function(t){var r=n(t);if(!(j(r)||0>r||r>=a)){var c=i[r];e.length>r?s[r]=c:o.removed[r-e.length]=i[r]}})}var o,a="length"in i?n(i.length):e.length;e.length>a?o={index:a,removed:[],addedCount:e.length-a}:a>e.length&&(o={index:e.length,removed:new Array(a-e.length),addedCount:0});var s=[];r(t.added,i),r(t.removed,i),r(t.changed,i);var c,u=[];for(var h in s){if(h=n(h),c){if(c.index+c.removed.length==h){c.removed.push(s[h]);continue}c.addedCount=Math.min(e.length,c.index+c.removed.length)-c.index,u.push(c),c=void 0}c={index:h,removed:[s[h]]}}return c?(c.addedCount=Math.min(e.length,c.index+c.removed.length)-c.index,o?c.index+c.removed.length==o.index?(c.addedCount=c.addedCount+o.addedCount,c.removed=c.removed.concat(o.removed),u.push(c)):(u.push(c),u.push(o)):u.push(c)):o&&u.push(o),u}function C(e,t,n){var i=[];return k(e,t,n).forEach(function(t){i=i.concat(P(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length))}),i}function L(){function e(e){var n=t.get(e.object);n&&(n.object&&(e.added||e.removed||e.changed)&&n.object.forEach(function(t){try{t(e.added,e.removed,e.changed,e.getOldValue,e.object)}catch(n){console.log("Exception thrown during callback: "+n),u._errorThrownDuringCallback=!0}}),n.array&&e.splices&&n.array.forEach(function(t){try{t(e.splices,e.object)}catch(n){console.log("Exception thrown during callback: "+n),u._errorThrownDuringCallback=!0}}),n.path&&e.pathChanged&&Object.keys(n.path).forEach(function(t){e.pathChanged.hasOwnProperty(t)&&n.path[t].forEach(function(n){try{n(e.pathChanged[t],e.getOldValue(t),e.object,t)}catch(i){console.log("Exception thrown during callback: "+i),u._errorThrownDuringCallback=!0}})}))}var t="function"==typeof WeakMap?new WeakMap:new Map,n=new u(function(t){t.forEach(e)});this.observeObject=function(e,i){var r=t.get(e);r||(r={},t.set(e,r)),r.object||(r.object=new Set,n.observeObject(e)),r.object.add(i)},this.unobserveObject=function(e,i){var r=t.get(e);r&&r.object&&(r.object.delete(i),r.object.size||(n.unobserveObject(e),r.object=void 0),r.object||r.array||r.path||t.delete(e))},this.observeArray=function(e,i){if(!Array.isArray(e))throw Error("Invalid attempt to observe non-array: "+arr);var r=t.get(e);r||(r={},t.set(e,r)),r.array||(r.array=new Set,n.observeArray(e)),r.array.add(i)},this.unobserveArray=function(e,i){if(Array.isArray(e)){var r=t.get(e);r&&r.array&&(r.array.delete(i),r.array.size||(n.unobserveArray(e),r.array=void 0),r.object||r.array||r.path||t.delete(e))}},this.observePath=function(e,r,o){if(!s(r))return void 0;if(""==r.trim())return e;if(!i(e))return void 0;var a=t.get(e);a||(a={},t.set(e,a)),a.path||(a.path={});var c,h=a.path[r];return h?c=u.getValueAtPath(e,r):(h=new Set,a.path[r]=h,c=n.observePath(e,r)),h.add(o),c},this.unobservePath=function(e,r,o){if(s(r)&&i(e)){var a=t.get(e);if(a&&a.path){var c=a.path[r];c&&(c.delete(o),c.size||(n.unobservePath(e,r),delete a.path[r]),Object.keys(a.path).length||(a.path=void 0),a.object||a.array||a.path||t.delete(e))}}},this.deliver=n.deliver.bind(n)}var N="function"==typeof Object.observe,x=e.Number.isNaN||function j(t){return"number"==typeof t&&e.isNaN(t)},A="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};"function"==typeof Map&&"function"==typeof Set&&"function"==typeof WeakMap?o():a(e);var I="[$a-z0-9_]+[$a-z0-9_\\d]*",D=new RegExp("^(?:#?"+I+")?"+"(?:"+"(?:\\."+I+")"+")*"+"$","i");c.prototype=A({__proto__:[],toString:function(){return this.join(".")},walkPropertiesFrom:function(e,t,n){for(var i,r=0;this.length+1>r;r++)i=this[r],t.call(n,i,e,r),e=r==this.length||null===e||void 0===e?void 0:e[i]}});var H=1e3,R={};u.getValueAtPath=function(e,t){if(!s(t))return void 0;var n=new c(t);if(!n.length)return e;if(i(e))return F?l(e,n):d(e,n)},u.setValueAtPath=function(e,t,n){if(s(t)){var r=new c(t);r.length&&i(e)&&p(e,r,n)}},u.applySplices=function(e,t,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],r=n.index;n.index+n.addedCount>r;)i.push(t[r]),r++;Array.prototype.splice.apply(e,i)})},g.prototype={check:function(e){var t,n;if(N){if(!e)return!1;n={},t=T(this.object,e,n)}else n=this.oldObject,t=m(this.object,this.oldObject);return v(t)?!1:(this.diff=t,this.oldValues=n,this.changed=!0,!0)},summarize:function(e,t){e.added=this.changed?this.diff.added:{},e.removed=this.changed?this.diff.removed:{},e.changed=this.changed?this.diff.changed:{},b(this.oldValues,t)},reset:function(e){N||!e&&!this.diff||(this.oldObject=b(this.object)),this.changed=!1,this.diff=void 0,this.oldValues=void 0}},y.prototype={check:function(e){var t;if(N){if(!e)return!1;var n={},i=T(this.array,e,n);t=C(this.array,i,n)}else t=P(this.array,0,this.array.length,this.oldArray,0,this.oldArray.length);return t.length?(this.splices=t,this.changed=!0,!0):!1},summarize:function(e){e.splices=this.splices?this.splices:[]},reset:function(e){N||!e&&!this.splices||(this.oldArray=this.array.slice()),this.changed=!1,this.splices=void 0}};var F=!1;try{var U=new Function("","return true;");F=U()}catch(V){}var z;z=N?function(e){var t;return this.path.walkPropertiesFrom(this.object,function(e,n,r){if(r===this.path.length)return t=n,void 0;if(0!==r){var o=this.observed[r-1];if(n!==o){if(void 0!==o){this.observed[r-1]=o=void 0;for(var a=!1,s=0;this.observed.length>s;s++)if(this.observed[s]===o){a=!0;break}a||this.internal.removePathTracker(o,this)}i(n)&&(this.observed[r-1]=o=n,this.internal.addPathTracker(o,this))}}},this),this.valueMaybeChanged(t,e)}:F?function(e){return this.checkFunc||(this.checkFunc=h(this.path)),this.valueMaybeChanged(this.checkFunc(this.object),e)}:function(e){var t=d(this.object,this.path);return this.valueMaybeChanged(t,e)},w.prototype={check:z,valueMaybeChanged:function(e,t){return t?this.value=e:this.changed?(this.value=e,r(this.value,this.oldValue)&&(this.changed=!1,this.oldValue=void 0)):r(this.value,e)||(this.oldValue=this.value,this.value=e,this.changed=!0),this.changed},summarize:function(e,t){e.pathChanged[this.pathString]=this.value,t[this.pathString]=this.oldValue},reset:function(e){e&&this.check(!0),this.oldValue=void 0,this.changed=!1},destroy:function(){this.object=void 0,this.reset(!0)}},E.prototype={observeObject:function(){this.objectTracker=this.objectTracker||new g(this.object)},unobserveObject:function(){this.objectTracker=void 0,this.destroyIfEmpty()},observeArray:function(){this.arrayTracker=this.arrayTracker||new y(this.object)},unobserveArray:function(){this.arrayTracker=void 0,this.destroyIfEmpty()},addPathTracker:function(e,t){this.pathTrackers||(this.pathTrackers=[],this.pathTrackerMap={}),t&&(this.pathTrackerMap[t]=e),this.pathTrackers.push(e)},removePathTracker:function(e){this.pathTrackers&&(this.pathTrackers.splice(this.pathTrackers.indexOf(e),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty())},observePath:function(e){var t,n=e.toString();return this.pathTrackers&&this.pathTrackerMap&&(t=this.pathTrackerMap[n]),t?t.check():(t=new w(this.object,e,n,this.internal),this.addPathTracker(t,n)),t},unobservePath:function(e){if(this.pathTrackerMap){var t=e.toString(),n=this.pathTrackerMap[t];n&&(n.destroy(),delete this.pathTrackerMap[t],Object.keys(this.pathTrackerMap).length||(this.pathTrackerMap=void 0),this.pathTrackers.splice(this.pathTrackers.indexOf(n),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty())}},connect:function(){N&&Object.observe(this.object,this.internal.callback),this.reset(!0)},disconnect:function(){N&&Object.unobserve(this.object,this.internal.callback)},destroyIfEmpty:function(){this.objectTracker||this.arrayTracker||this.pathTrackers||(this.internal.removeObjectObserver(this.object),this.destroy())},destroy:function(){this.disconnect(),this.internal=void 0},addChangeRecord:function(e){this.changeRecords||(this.changeRecords=[]),this.changeRecords.push(e)},checkPathValues:function(){if(this.internal&&this.pathTrackers)for(var e=0;this.pathTrackers.length>e;e++){var t=this.pathTrackers[e];if(t.check()){var n=this.object===t.object,i=n?this:this.internal.getOrCreateObjectObserver(t.object);i.addDirtyPath(t),n||this.internal.activeObservers.add(i)}}},checkObjectsAndArrays:function(){this.internal&&(this.objectTracker&&this.objectTracker.check(this.changeRecords),this.arrayTracker&&this.arrayTracker.check(this.changeRecords))},addDirtyPath:function(e){this.dirtyPathTrackers||(this.dirtyPathTrackers=new Set),this.dirtyPathTrackers.add(e)},produceSummary:function(){if(this.objectTracker&&this.objectTracker.changed||this.arrayTracker&&this.arrayTracker.changed||this.dirtyPathTrackers){var e,t={object:this.object};(this.objectTracker||this.pathTrackerMap)&&(e={},t.getOldValue=function(t){return e[t]}),this.pathTrackerMap&&(t.pathChanged={});var n=!1;return this.objectTracker&&(this.objectTracker.summarize(t,e),n=n||this.objectTracker.changed),this.arrayTracker&&(this.arrayTracker.summarize(t),n=n||this.arrayTracker.changed),this.dirtyPathTrackers&&this.dirtyPathTrackers.forEach(function(i){i.changed&&(i.summarize(t,e),n=!0)}),n?t:void 0}},reset:function(e){this.objectTracker&&this.objectTracker.reset(e),this.arrayTracker&&this.arrayTracker.reset(e);var t=e?this.pathTrackers:this.dirtyPathTrackers;t&&t.forEach(function(t){t.reset(e)}),this.changeRecords=void 0,this.dirtyPathTrackers=void 0}};var Y={"new":!0,updated:!0,deleted:!0},W=0,B=1,X=2,q=3;e.ChangeSummary=u,e.ChangeSummary.CallbackRouter=L}(this);var createObject="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};"function"!=typeof document.contains&&(Document.prototype.contains=function(e){return this.documentElement.contains(e)});var SideTable;"undefined"!=typeof WeakMap?SideTable=WeakMap:(SideTable=function(e){this.name="__$"+e+"$__"},SideTable.prototype={set:function(e,t){Object.defineProperty(e,this.name,{value:t,writable:!0})},get:function(e){return e[this.name]},"delete":function(e){this.set(e,void 0)}}),SideTableInherit.prototype={set:function(e,t){this.map.set(e,t)},get:function(e){if(null===e)return void 0;var t=this.map.get(e);return void 0!==t?t:this.get(Object.getPrototypeOf(e))},"delete":function(e){this.map.delete(e)}},this.Model=function(){var e=new ChangeSummary.CallbackRouter;return{notifyChanges:function(){e.deliver()},getValueAtPath:ChangeSummary.getValueAtPath,setValueAtPath:ChangeSummary.setValueAtPath,observeObject:e.observeObject.bind(e),unobserveObject:e.unobserveObject.bind(e),observeArray:e.observeArray.bind(e),unobserveArray:e.unobserveArray.bind(e),observePath:e.observePath.bind(e),unobservePath:e.unobservePath.bind(e)}}(),function(e){"use strict";function t(e){if(!e)throw new Error("Assertion failed")}function n(e){return e.ownerDocument.contains(e)}function i(e,t,n){console.error("Unhandled binding to Node: ",this,e,t,n)}function r(){}function o(){}function a(e,t,n){this.model=e,this.path=t,this.changed=n,this.changed(Model.observePath(this.model,this.path,this.changed))}function s(e){return function(t){e.data=t}}function c(e,t,n){if("textContent"!==e)return Node.prototype.bind.call(this,e,t,n);this.unbind("textContent");var i=new a(t,n,s(this));rt.set(this,i)}function u(e){if("textContent"!=e)return Node.prototype.unbind.call(this,e);var t=rt.get(this);t&&(t.dispose(),rt.delete(this))}function h(){this.unbind("textContent"),Node.prototype.unbindAll.call(this)}function l(e,t,n){return n?function(n){n?e.setAttribute(t,""):e.removeAttribute(t)}:function(n){e.setAttribute(t,String(void 0===n?"":n))}}function d(){this.bindingMap=Object.create(null)}function p(e,t,n){var i=ot.get(this);i||(i=new d,ot.set(this,i)),i.add(this,e,t,n)}function f(e){var t=ot.get(this);t&&t.remove(e)}function v(){var e=ot.get(this);e&&(ot.delete(this),e.removeAll(),Node.prototype.unbindAll.call(this))}function m(e){switch(e.type){case"checkbox":return"click";case"radio":case"select-multiple":case"select-one":return"change";default:return"input"}}function b(e,t,n,i){this.element=e,this.valueProperty=t,this.boundValueChanged=this.valueChanged.bind(this),this.boundUpdateBinding=this.updateBinding.bind(this),this.binding=new a(n,i,this.boundValueChanged),this.element.addEventListener(m(this.element),this.boundUpdateBinding,!0)}function g(e,t,n){b.call(this,e,"value",t,n)}function y(e){if(!n(e))return[];if(e.form)return it(e.form.elements,function(t){return t!=e&&"INPUT"==t.tagName&&"radio"==t.type&&t.name==e.name});var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]');return it(t,function(t){return t!=e&&!t.form})}function w(e,t,n){b.call(this,e,"checked",t,n)}function E(e,t,n){switch(e){case"value":this.unbind("value"),this.removeAttribute("value"),at.set(this,new g(this,t,n));break;case"checked":this.unbind("checked"),this.removeAttribute("checked"),st.set(this,new w(this,t,n));break;default:return Element.prototype.bind.call(this,e,t,n)}}function T(e){switch(e){case"value":var t=at.get(this);t&&(t.unbind(),at.delete(this));break;case"checked":var n=st.get(this);n&&(n.unbind(),st.delete(this));break;default:return Element.prototype.unbind.call(this,e)}}function O(){this.unbind("value"),this.unbind("checked"),Element.prototype.unbindAll.call(this)}function _(e){return e.querySelectorAll(mt)}function M(e){return ft[e.tagName]&&e.hasAttribute("template")}function S(e){return"TEMPLATE"==e.tagName||M(e)}function P(e){return vt&&"TEMPLATE"==e.tagName}function k(e){function t(e){HTMLTemplateElement.decorate(e)||k(e.content)}var n=_(e);S(e)&&t(e),nt(n,t)}function C(e,t){Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function L(e){if(!e.defaultView)return e;var t=wt.get(e);if(!t){for(t=e.implementation.createHTMLDocument("");t.lastChild;)t.removeChild(t.lastChild);wt.set(e,t)}return t}function N(e){for(var t=e.cloneNode(!1),n=e.attributes,i=n.length;i-->0;){var r=n[i];pt[r.name]?t.removeAttribute(r.name):e.removeAttribute(r.name)}return t}function x(e){var t=e.content;if(M(e)){for(var n,i=N(e);n=e.firstChild;)i.appendChild(n);t.appendChild(i)}else for(var n;n=e.firstChild;)t.appendChild(n)}function j(e){"TEMPLATE"===e.tagName?vt||(gt?e.__proto__=HTMLTemplateElement.prototype:C(e,HTMLTemplateElement.prototype)):(C(e,HTMLTemplateElement.prototype),Object.defineProperty(e,"content",Ot))}function A(e,t){var n=e.ref?e.ref.content:e.content,i=z(n,t);return"function"==typeof HTMLTemplateElement.__instanceCreated&&HTMLTemplateElement.__instanceCreated(i),i}function I(e,t){this.type=e,this.value=t}function D(e){for(var t=[],n=e.length,i=0,r=0;n>r;){if(i=e.indexOf("{{",r),0>i){t.push(new I(_t,e.slice(r)));break}if(i>0&&i>r&&t.push(new I(_t,e.slice(r,i))),r=i+2,i=e.indexOf("}}",r),0>i){var o=e.slice(r-2),a=t[t.length-1];a&&a.type==_t?a.value+=o:t.push(new I(_t,o));break}var s=e.slice(r,i).trim();t.push(new I(Mt,s)),r=i+2}return t}function H(e,t,n,i,r){var o,a=r&&r[dt];a&&"function"==typeof a&&(o=a(n,i,t,e),o&&(n=o,i="value")),e.bind(t,n,i)}function R(e,t,n,i,r){var o=D(t);if(o.length&&(1!=o.length||o[0].type!=_t)){if(1==o.length&&o[0].type==Mt)return H(e,n,i,o[0].value,r),void 0;for(var a=new G,s=0;o.length>s;s++){var c=o[s];
c.type==Mt&&H(a,s,i,c.value,r)}a.combinator=function(e){for(var t="",n=0;o.length>n;n++){var i=o[n];if(i.type===_t)t+=i.value;else{var r=e[n];void 0!==r&&(t+=r)}}return t},e.bind(n,a,"value")}}function F(e,n,i){t(e);for(var r={},o=0;e.attributes.length>o;o++){var a=e.attributes[o];r[a.name]=a.value}S(e)&&(""===r[ct]&&(r[ct]="{{}}"),""===r[ut]&&(r[ut]="{{}}")),Object.keys(r).forEach(function(t){R(e,r[t],t,n,i)})}function U(e,n,i){t(e),e.nodeType===Node.ELEMENT_NODE?F(e,n,i):e.nodeType===Node.TEXT_NODE&&R(e,e.data,"textContent",n,i);for(var r=e.firstChild;r;r=r.nextSibling)U(r,n,i)}function V(e){e.unbindAll();for(var t=e.firstChild;t;t=t.nextSibling)V(t)}function z(e,t){var n=e.cloneNode(!1);S(n)&&(HTMLTemplateElement.decorate(n,e),t&&!n.hasAttribute(lt)&&n.setAttribute(lt,t));for(var i=e.firstChild;i;i=i.nextSibling)n.appendChild(z(i,t));return n}function Y(e,t){if(q(t),S(t)){var n=Pt.get(t);n&&(n.abandon(),Pt.delete(t))}e.removeChild(t),V(t)}function W(e,t){if(this.template_=e,this.previousTerminator_=null,this.previousIndex_=-1,this.terminator_=e,this.index_=0,t)for(;t-->0;)this.next()}function B(e,t,n){this.firstNode=e,this.lastNode=t,this.model=n}function X(e,t){if(e.firstChild)for(var n=new B(e.firstChild,e.lastChild,t),i=n.firstNode;i;)St.set(i,n),i=i.nextSibling}function q(e){St.delete(e)}function G(e){this.bindings={},this.values={},this.value=void 0,this.size=0,this.combinator_=e,this.boundResolve=this.resolve.bind(this),this.disposed=!1}function $(e){this.templateElement_=e,this.instanceCount=0,this.iteratedValue=void 0,this.observing=!1,this.boundHandleSplices=this.handleSplices.bind(this),this.inputs=new G(this.resolveInputs.bind(this)),this.valueBinding=new a(this.inputs,"value",this.valueChanged.bind(this))}function Q(e){var t=Pt.get(e);return t?t.instanceCount:0}function K(){this.instanceTerminatorCount_=0}function J(e){var t=kt.get(e);return t||(t=new K,kt.set(e,t)),t}function Z(e){J(e).incrementInstanceTerminatorCount()}function et(e){J(e).decrementInstanceTerminatorCount()}function tt(e){var t=kt.get(e);return t?t.instanceTerminatorCount():0}var nt=Array.prototype.forEach.call.bind(Array.prototype.forEach),it=Array.prototype.filter.call.bind(Array.prototype.filter);Node.prototype.bind=i,Node.prototype.unbind=r,Node.prototype.unbindAll=o;var rt=new SideTable("textContentBinding");a.prototype={dispose:function(){Model.unobservePath(this.model,this.path,this.changed)},set value(e){Model.setValueAtPath(this.model,this.path,e)}},Text.prototype.bind=c,Text.prototype.unbind=u,Text.prototype.unbindAll=h;var ot=new SideTable("attributeBindings");d.prototype={add:function(e,t,n,i){e.removeAttribute(t);var r="?"==t[t.length-1];r&&(t=t.slice(0,-1)),this.remove(t);var o=new a(n,i,l(e,t,r));this.bindingMap[t]=o},remove:function(e){var t=this.bindingMap[e];t&&(t.dispose(),delete this.bindingMap[e])},removeAll:function(){Object.keys(this.bindingMap).forEach(function(e){this.remove(e)},this)}},Element.prototype.bind=p,Element.prototype.unbind=f,Element.prototype.unbindAll=v;var at=new SideTable("valueBinding"),st=new SideTable("checkedBinding");b.prototype={valueChanged:function(e){this.element[this.valueProperty]=this.produceElementValue(e)},updateBinding:function(){this.binding.value=this.element[this.valueProperty],this.postUpdateBinding&&this.postUpdateBinding(),Model.notifyChanges()},unbind:function(){this.binding.dispose(),this.element.removeEventListener(m(this.element),this.boundUpdateBinding,!0)}},g.prototype=createObject({__proto__:b.prototype,produceElementValue:function(e){return String(null==e?"":e)}}),w.prototype=createObject({__proto__:b.prototype,produceElementValue:function(e){return Boolean(e)},postUpdateBinding:function(){"INPUT"===this.element.tagName&&"radio"===this.element.type&&y(this.element).forEach(function(e){var t=st.get(e);t&&(t.binding.value=!1)})}}),HTMLInputElement.prototype.bind=E,HTMLInputElement.prototype.unbind=T,HTMLInputElement.prototype.unbindAll=O;var ct="bind",ut="repeat",ht="if",lt="syntax",dt="getBinding",pt={template:!0,repeat:!0,bind:!0,ref:!0},ft={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,OPTION:!0},vt="undefined"!=typeof HTMLTemplateElement,mt="template, "+Object.keys(ft).map(function(e){return e.toLowerCase()+"[template]"}).join(", "),bt=function(){function e(e){i.indexOf(e)>=0||n.indexOf(e)>=0||(n.push(e),o==r.value&&(r.value=!r.value))}function t(){for(o=r.value,i=n,n=[];i.length;){var e=i.shift();e()}}var n=[],i=[],r={value:0},o=r.value;return Model.observePath(r,"value",t),e}();document.addEventListener("DOMContentLoaded",function(){k(document),Model.notifyChanges()},!1),vt||(e.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var gt="__proto__"in{},yt=new SideTable("templateContents"),wt=new SideTable("templateContentsOwner"),Et=new SideTable("templateInstanceRef");HTMLTemplateElement.decorate=function(e,t){if(e.templateIsDecorated_)return!1;if(e.templateIsDecorated_=!0,j(e),!P(e)){var n=L(e.ownerDocument);yt.set(e,n.createDocumentFragment())}return t?(Et.set(e,t),!0):(P(e)?k(e.content):x(e),!0)},HTMLTemplateElement.bootstrap=k,HTMLTemplateElement.bindTree=U;var Tt=e.HTMLUnknownElement||HTMLElement,Ot={get:function(){return yt.get(this)},enumerable:!0,configurable:!0};vt||(HTMLTemplateElement.prototype=Object.create(Tt.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",Ot)),C(HTMLTemplateElement.prototype,{bind:function(e,t,n){switch(e){case ct:case ut:case ht:var i=Pt.get(this);i||(i=new $(this),Pt.set(this,i)),i.inputs.bind(e,t,n||"");break;default:return Element.prototype.bind.call(this,e,t,n)}},unbind:function(e,t,n){switch(e){case ct:case ut:case ht:var i=Pt.get(this);if(!i)break;i.inputs.unbind(e);break;default:return Element.prototype.unbind.call(this,e,t,n)}},unbindAll:function(){this.unbind(ct),this.unbind(ut),this.unbind(ht),Element.prototype.unbindAll.call(this)},createInstance:function(e,t){return A(this,e,t)},get ref(){var e,t=this.getAttribute("ref");return t&&(e=this.ownerDocument.getElementById(t)),e||(e=Et.get(this)),e||null}});var _t=0,Mt=1,St=new SideTable("templateInstance");Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var e=St.get(this);return e?e:this.parentNode?this.parentNode.templateInstance:void 0}}),W.prototype={next:function(){for(this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;this.index_>tt(this.terminator_);)this.index_-=tt(this.terminator_),this.terminator_=this.terminator_.nextSibling,"TEMPLATE"===this.terminator_.tagName&&(this.index_+=Q(this.terminator_))},abandon:function(){t(Q(this.template_)),t(tt(this.terminator_)),t(this.index_),et(this.terminator_),this.index_--},insert:function(e){t(this.template_.parentNode),this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;var n=this.template_.getAttribute(lt),i=A(this.template_,n);if(U(i,e,HTMLTemplateElement.syntax[n]),X(i,e),this.terminator_=i.lastChild||this.previousTerminator_,this.template_.parentNode.insertBefore(i,this.previousTerminator_.nextSibling),Z(this.terminator_),this.terminator_!==this.previousTerminator_)for(;tt(this.previousTerminator_)>this.previousIndex_;)et(this.previousTerminator_),Z(this.terminator_)},remove:function(){if(t(-1!==this.previousIndex_),t(this.previousTerminator_&&(this.previousIndex_>0||this.previousTerminator_===this.template_)),t(this.terminator_&&this.index_>0),t(this.template_.parentNode),t(Q(this.template_)),this.previousTerminator_===this.terminator_)return t(this.index_==this.previousIndex_+1),et(this.terminator_),this.terminator_=this.template_,this.previousTerminator_=null,this.previousIndex_=-1,void 0;et(this.terminator_);for(var e=this.template_.parentNode;this.previousTerminator_.nextSibling!==this.terminator_;)Y(e,this.previousTerminator_.nextSibling);Y(e,this.terminator_),this.terminator_=this.previousTerminator_,this.index_=this.previousIndex_,this.previousTerminator_=null,this.previousIndex_=-1}},G.prototype={set combinator(e){this.combinator_=e,this.scheduleResolve()},bind:function(e,t,n){this.unbind(e),this.size++,this.bindings[e]=new a(t,n,function(t){this.values[e]=t,this.scheduleResolve()}.bind(this))},unbind:function(e,t){this.bindings[e]&&(this.size--,this.bindings[e].dispose(),delete this.bindings[e],delete this.values[e],t||this.scheduleResolve())},scheduleResolve:function(){bt(this.boundResolve)},resolve:function(){if(!this.disposed){if(!this.combinator_)throw Error("CompoundBinding attempted to resolve without a combinator");this.value=this.combinator_(this.values)}},dispose:function(){Object.keys(this.bindings).forEach(function(e){this.unbind(e,!0)},this),this.disposed=!0,this.value=void 0}},$.prototype={resolveInputs:function(e){return ht in e&&!e[ht]?void 0:ut in e?e[ut]:ct in e?[e[ct]]:void 0},valueChanged:function(e){this.clear(),Array.isArray(e)&&(this.iteratedValue=e,Model.observeArray(this.iteratedValue,this.boundHandleSplices),this.observing=!0,this.handleSplices([{index:0,addedCount:this.iteratedValue.length,removed:[]}]))},handleSplices:function(e){e.forEach(function(e){e.removed.forEach(function(){var t=new W(this.templateElement_,e.index+1);t.remove(),this.instanceCount--},this);for(var t=e.index;e.index+e.addedCount>t;t++){var n=new W(this.templateElement_,t);n.insert(this.iteratedValue[t]),this.instanceCount++}},this)},unobserve:function(){this.observing&&(Model.unobserveArray(this.iteratedValue,this.boundHandleSplices),this.observing=!1)},clear:function(){if(this.unobserve(),this.iteratedValue=void 0,this.instanceCount){for(var e=0;this.instanceCount>e;e++){var t=new W(this.templateElement_,1);t.remove()}this.instanceCount=0}},abandon:function(){this.unobserve(),this.valueBinding.dispose(),this.inputs.dispose()}};var Pt=new SideTable("templateIterator");K.prototype={instanceTerminatorCount:function(){return this.instanceTerminatorCount_},incrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_++},decrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_--}};var kt=new SideTable("instanceTerminatorCount");e.CompoundBinding=G,Object.defineProperty(HTMLTemplateElement,lt,{value:{},enumerable:!0}),HTMLTemplateElement.allTemplatesSelectors=mt}(this),function(){HTMLTemplateElement.__instanceCreated=function(e){document.adoptNode(e),document.upgradeElements(e)},window.dirtyCheck=function(){logFlags.data&&console.group("Model.dirtyCheck()"),e(),logFlags.data&&console.groupEnd()};var e=function(){Model.notifyChanges()},t=125;window.addEventListener("WebComponentsReady",function(){dirtyCheck(),setInterval(e,t)})}(),function(){function e(e){return n(e,o)}function t(e){return n(e,"stylesheet")}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function i(e,t){var n=document.implementation.createHTMLDocument(o);n._URL=t;var i=n.createElement("base");return i.setAttribute("href",document.baseURI),n.head.appendChild(i),n.body.innerHTML=e,n}var r,o="import",a={documents:{},preloadSelectors:["link[rel="+o+"]","script[src]","link[rel=stylesheet]"].join(","),load:function(e,t){r=new s(a.loaded,t),a.cache=r.cache,a.preload(e)},preload:function(t){var n=t.querySelectorAll(a.preloadSelectors);t===document&&(n=Array.prototype.filter.call(n,function(t){return e(t)})),r.addNodes(n)},loaded:function(n,r,o){if(e(r)){var s=a.documents[n];s||(s=i(o,n),c.resolvePathsInHTML(s),a.documents[n]=s,a.preload(s)),r.content=r.__resource=s}else r.__resource=o,t(r)&&c.resolvePathsInStylesheet(r)}},s=function(e,t){this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={},this.cache={}};s.prototype={addNodes:function(e){this.inflight+=e.length,p(e,this.require,this),this.checkDone()},require:function(e){var t=c.nodeUrl(e);e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){return this.pending[e]?(this.pending[e].push(t),!0):this.cache[e]?(this.onload(e,t,r.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,t){d.load(e,function(n,i){this.receive(e,t,n,i)}.bind(this))},receive:function(e,t,n,i){n||(r.cache[e]=i),r.pending[e].forEach(function(t){n||this.onload(e,t,i),this.tail()},this),r.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}};var c={nodeUrl:function(e){return c.resolveUrl(document.URL,c.hrefOrSrc(e))},hrefOrSrc:function(e){return e.getAttribute("href")||e.getAttribute("src")},documentUrlFromNode:function(e){var t=c.getDocumentUrl(e.ownerDocument);return t=t.split("#")[0]},getDocumentUrl:function(e){return e&&(e._URL||e.impl&&e.impl._URL||e.URL)||""},resolveUrl:function(e,t,n){if(this.isAbsUrl(t))return t;var i=this.compressUrl(this.urlToPath(e)+t);return n&&(i=c.makeRelPath(document.URL,i)),i},isAbsUrl:function(e){return/(^data:)|(^http[s]?:)|(^\/)/.test(e)},urlToPath:function(e){var t=e.split("/");return t.pop(),t.push(""),t.join("/")},compressUrl:function(e){for(var t,n=e.split("/"),i=0;n.length>i;i++)t=n[i],".."===t&&(n.splice(i-1,2),i-=2);return n.join("/")},makeRelPath:function(e,t){var n,i;for(n=this.compressUrl(e).split("/"),i=this.compressUrl(t).split("/");n.length&&n[0]===i[0];)n.shift(),i.shift();for(var r=0,o=n.length-1;o>r;r++)i.unshift("..");var a=i.join("/");return a},resolvePathsInHTML:function(e){var t=c.documentUrlFromNode(e.body);window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(e);var n=e.body;window.ShadowDOMPolyfill&&(n=ShadowDOMPolyfill.wrap(n)),c._resolvePathsInHTML(n,t)},_resolvePathsInHTML:function(e,t){if(c.resolveAttributes(e,t),c.resolveStyleElts(e,t),window.templateContent){var n=e.querySelectorAll("template");n&&p(n,function(e){c._resolvePathsInHTML(templateContent(e),t)})}},resolvePathsInStylesheet:function(e){var t=c.nodeUrl(e);e.__resource=c.resolveCssText(e.__resource,t)},resolveStyleElts:function(e,t){var n=e.querySelectorAll("style");n&&p(n,function(e){e.textContent=c.resolveCssText(e.textContent,t)})},resolveCssText:function(e,t){return e.replace(/url\([^)]*\)/g,function(e){var n=e.replace(/["']/g,"").slice(4,-1);return n=c.resolveUrl(t,n,!0),"url("+n+")"})},resolveAttributes:function(e,t){var n=e&&e.querySelectorAll(h);n&&p(n,function(e){this.resolveNodeAttributes(e,t)},this)},resolveNodeAttributes:function(e,t){u.forEach(function(n){var i=e.attributes[n];if(i&&i.value&&0>i.value.search(l)){var r=c.resolveUrl(t,i.value,!0);i.value=r}})}},u=["href","src","action"],h="["+u.join("],[")+"]",l="{{.*}}",d={async:!0,ok:function(e){return e.status>=200&&300>e.status||304===e.status},load:function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e+"?"+Math.random(),d.async),i.addEventListener("readystatechange",function(){4===i.readyState&&t.call(n,!d.ok(i)&&i,i.response,e)}),i.send()}},p=Array.prototype.forEach.call.bind(Array.prototype.forEach);window.HTMLImports=a,"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),window.addEventListener("load",function(){a.load(document,function(){var e=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrap(document):document;e.body.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))})})}(),function(e){function t(e){y.push(e),g||(g=!0,v(n))}function n(){g=!1;var e=y;y=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();i(e),n.length&&(e.callback_(n,e),t=!0)}),t&&n()}function i(e){e.nodes_.forEach(function(t){var n=f.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function r(e,t){for(var n=e;n;n=n.parentNode){var i=f.get(n);if(i)for(var r=0;i.length>r;r++){var o=i[r],a=o.options;if(n===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}function o(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++w}function a(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function s(e){var t=new a(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function c(e,t){return E=new a(e,t)}function u(e){return T?T:(T=s(E),T.oldValue=e,T)}function h(){E=T=void 0}function l(e){return e===T||e===E}function d(e,t){return e===t?e:T&&l(e)?T:null}function p(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}var f=new SideTable("registrations"),v=window.msSetImmediate;if(!v){var m=[],b=String(Math.random());window.addEventListener("message",function(e){if(e.data===b){var t=m;m=[],t.forEach(function(e){e()})}}),v=function(e){m.push(e),window.postMessage(b,"*")}}var g=!1,y=[],w=0;o.prototype={observe:function(e,t){if(!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=f.get(e);n||f.set(e,n=[]);for(var i,r=0;n.length>r;r++)if(n[r].observer===this){i=n[r],i.removeListeners(),i.options=t;break}i||(i=new p(this,e,t),n.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=f.get(e),n=0;t.length>n;n++){var i=t[n];if(i.observer===this){i.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,T;p.prototype={enqueue:function(e){var n=this.observer.records_,i=n.length;if(n.length>0){var r=n[i-1],o=d(r,e);if(o)return n[i-1]=o,void 0}else t(this.observer);n[i]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=f.get(e);t||f.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=f.get(e),n=0;t.length>n;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,i=e.target,o=new c("attributes",i);o.attributeName=t,o.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;r(i,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?u(a):o});break;case"DOMCharacterDataModified":var i=e.target,o=c("characterData",i),a=e.prevValue;r(i,function(e){return e.characterData?e.characterDataOldValue?u(a):o:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,l,i=e.relatedNode,d=e.target;"DOMNodeInserted"===e.type?(s=[d],l=[]):(s=[],l=[d]);var p=d.previousSibling,f=d.nextSibling,o=c("childList",i);o.addedNodes=s,o.removedNodes=l,o.previousSibling=p,o.nextSibling=f,r(i,function(e){return e.childList?o:void 0})}h()}},e.JsMutationObserver=o}(this),function(e){function t(e,t){var o=t||{};if(!e)throw new Error("Name argument must not be empty");if(o.name=e,!o.prototype)throw new Error("Options missing required prototype property");return o.lifecycle=o.lifecycle||{},o.ancestry=n(o.extends),i(o),r(o),p(e,o),o.ctor=f(o),o.ctor.prototype=o.prototype,document.upgradeElements(),o.ctor}function n(e){var t=E[e];return t?n(t.extends).concat([t]):[]}function i(e){for(var t,n=e.extends,i=0;t=e.ancestry[i];i++)n=t.is&&t.tag;e.tag=n||e.name,n&&(e.is=e.name)}function r(e){if(!Object.__proto__)if(e.is)var t=document.createElement(e.tag),n=Object.getPrototypeOf(t);else n=HTMLElement.prototype;e.native=n}function o(e){return a(_(e.tag),e)}function a(e,t){return s(e,t),t.is&&e.setAttribute("is",t.is),e.__upgraded__=!0,b(e),u(e,t),e}function s(e,t){Object.__proto__?e.__proto__=t.prototype:(c(e,t.prototype,t.native),e.__proto__=t.prototype)}function c(e,t,n){for(var i={},r=t;r!==n&&r!==HTMLUnknownElement.prototype;){for(var o,a=Object.getOwnPropertyNames(r),s=0;o=a[s];s++)i[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}function u(e,t){l(e,t),h(e,t),d("readyCallback",t,e)}function h(e,t){if(y){var n=new y(function(n){n.forEach(function(n){"attributes"===n.type&&d("attributeChangedCallback",t,e,[n.attributeName,n.oldValue])})});window.ShadowDOMPolyfill&&e.impl&&(e=ShadowDOMPolyfill.unwrap(e)),n.observe(e,{attributes:!0,attributeOldValue:!0})}return n}function l(e,t){var n=function(n,i){e.addEventListener(n,function(n){n.target===e&&(n.stopPropagation(),d(i,t,e))},!1)};n("DOMNodeInserted","insertedCallback"),n("DOMNodeRemoved","removedCallback")}function d(e,t,n,i){var r=t.lifecycle[e]||n[e];r&&r.apply(n,i||w)}function p(e,t){E[e]=t,T+=T?",":"",t.extends&&(T+=t.tag+"[is="+t.is+"],"),T+=e}function f(e){return function(){return o(e)}}function v(e){var t=E[e];return t?new t.ctor:_(e)}function m(e){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("is")||e.localName,n=E[t];return n&&a(e,n)}}function b(e,t){var n=e||document;if(n.querySelectorAll){var i=t||T;if(i){var r=n.querySelectorAll(i);O(r,m)}}}function g(e){S.observe(e,{childList:!0,subtree:!0})}e=e||{flags:{}};var y=window.MutationObserver||window.WebKitMutationObserver||window.JsMutationObserver;y||console.warn("no mutation observer support");var w=[],E={},T="",O=Array.prototype.forEach.call.bind(Array.prototype.forEach),_=document.createElement.bind(document);if(document.register=document.webkitRegister||document.register,document.register&&"native"===e.flags.register){var M=function(){};document.upgradeElement=M,document.upgradeElements=M,document.watchDOM=M}else{if(y)var S=new y(function(e){e.forEach(function(e){"childList"==e.type&&O(e.addedNodes,function(e){m(e)||b(e)})})});document.register=t,document.createElement=v,document.upgradeElement=m,document.upgradeElements=b,document.watchDOM=g}}(window.CustomElements),function(){function parseElementElement(e){var t={name:"","extends":null};takeAttributes(e,t);var n=HTMLElement.prototype;if(t.extends){var i=document.createElement(t.extends);n=i.__proto__||Object.getPrototypeOf(i)}t.prototype=Object.create(n),e.options=t;var r=e.querySelector("script,scripts");r&&executeComponentScript(r.textContent,e,t.name);var o=document.register(t.name,t);e.ctor=o;var a=e.getAttribute("constructor");a&&(window[a]=o)}function takeAttributes(e,t){for(var n in t){var i=e.attributes[n];i&&(t[n]=i.value)}}function executeComponentScript(inScript,inContext,inName){context=inContext;var owner=context.ownerDocument,url=owner._URL||owner.URL,match=url.match(/.*\/([^.]*)[.]?.*$/);if(match){var name=match[1];url+=name!=inName?":"+inName:""}var code="__componentScript('"+inName+"', function(){"+inScript+"});"+"\n//@ sourceURL="+url+"\n";eval(code)}function mixin(e){for(var t=e||{},n=1;arguments.length>n;n++){var i=arguments[n];try{for(var r in i)copyProperty(r,i,t)}catch(o){}}return t}function copyProperty(e,t,n){var i=getPropertyDescriptor(t,e);Object.defineProperty(n,e,i)}function getPropertyDescriptor(e,t){if(e){var n=Object.getOwnPropertyDescriptor(e,t);return n||getPropertyDescriptor(Object.getPrototypeOf(e),t)}}var HTMLElementElement=function(e){return e.register=HTMLElementElement.prototype.register,parseElementElement(e),e};HTMLElementElement.prototype={register:function(e){e&&(this.options.lifecycle=e.lifecycle,e.prototype&&mixin(this.options.prototype,e.prototype))}};var context;window.__componentScript=function(e,t){t.call(context)},window.HTMLElementElement=HTMLElementElement,window.mixin=mixin}(),function(){function e(e){return e.ownerDocument===document||e.ownerDocument.impl===document}function t(e){return"link"===e.localName&&e.getAttribute("rel")===r}function n(e){return e.parentNode&&"element"===e.parentNode.localName?!0:void 0}function i(){setTimeout(function(){document.watchDOM(document.body),o.parse(document);var e=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrap(document):document;e.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},0)}var r="import",o={selectors:["link[rel="+r+"]","link[rel=stylesheet]","script[src]","script","style","element"],map:{link:"parseLink",script:"parseScript",element:"parseElement",style:"parseStyle"},parse:function(e){if(!e.__parsed){e.__parsed=!0,document.upgradeElements(e);var t=e.querySelectorAll(a.selectors);s(t,function(e){a[a.map[e.localName]](e)})}},parseLink:function(i){t(i)?i.content&&a.parse(i.content):e(i)||!i.parentNode||n(i)||document.head.appendChild(i)},parseScript:function(t){if(!e(t)&&!n(t)){var i=t.__resource||t.textContent;i&&(i+="\n//@ sourceURL="+t.__nodeUrl+"\n",eval.call(window,i))}},parseStyle:function(e){n(e)||document.querySelector("head").appendChild(e)},parseElement:function(e){new HTMLElementElement(e)}},a=o,s=Array.prototype.forEach.call.bind(Array.prototype.forEach);"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),window.HTMLImports?document.addEventListener("HTMLImportsLoaded",i):window.addEventListener("load",i)}(),function(){function e(e){return'[touch-action="'+e+'"]'}function t(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}var n=["none","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["scroll","pan-x pan-y","pan-y pan-x"]}],i="";n.forEach(function(n){i+=String(n)===n?e(n)+t(n):n.selectors.map(e)+t(n.rule)});var r=document.createElement("style");r.textContent=i,document.head.appendChild(r)}(),function(e){function t(e,t){var i,t=t||{},r=t.which?t.button:-1;if(n)i=new MouseEvent(e,t);else{i=document.createEvent("MouseEvent");var o={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,buttons:void 0,relatedTarget:null};Object.keys(o).forEach(function(e){e in t&&(o[e]=t[e])}),i.initMouseEvent(e,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,r,o.relatedTarget)}var a=0;return a=t.pressure?t.pressure:void 0!==t.buttons?t.buttons?.5:0:r>-1?.5:0,Object.defineProperties(i,{pointerId:{value:t.pointerId||0,enumerable:!0},width:{value:t.width||0,enumerable:!0},height:{value:t.height||0,enumerable:!0},pressure:{value:a,enumerable:!0},tiltX:{value:t.tiltX||0,enumerable:!0},tiltY:{value:t.tiltY||0,enumerable:!0},pointerType:{value:t.pointerType||"",enumerable:!0},hwTimestamp:{value:t.hwTimestamp||0,enumerable:!0},isPrimary:{value:t.isPrimary||!1,enumerable:!0}}),i}var n=!1;try{new MouseEvent("click"),n=!0}catch(i){}e.PointerEvent=t}(window),function(e){function t(){this.ids=[],this.pointers=[]}e=e||{},t.prototype={set:function(e,t){var n=this.ids.indexOf(e);n>-1?this.pointers[n]=t:(this.ids.push(e),this.pointers.push(t))},has:function(e){return this.ids.indexOf(e)>-1},"delete":function(e){var t=this.ids.indexOf(e);t>-1&&(this.ids.splice(t,1),this.pointers.splice(t,1))},get:function(e){var t=this.ids.indexOf(e);return this.pointers[t]},item:function(e){return this.pointers[e]},get size(){return this.pointers.length}},e.PointerMap=t,window.PointerEventsPolyfill=e}(window.PointerEventsPolyfill),function(e){var t;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?t=WeakMap:(t=function(e){this.name="__$"+e+"$__"},t.prototype={set:function(e,t){Object.defineProperty(e,this.name,{value:t,writable:!0})},get:function(e){return e[this.name]}}),e.SideTable=t}(window.PointerEventsPolyfill),function(e){var t={targets:new e.SideTable("target"),handledEvents:new e.SideTable("pointer"),scrollType:new e.SideTable("scrollType"),pointermap:new e.PointerMap,events:[],eventMap:{},eventSources:{},registerSource:function(e,t){var n=t,i=n.events;i&&(this.events=this.events.concat(i),i.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n)},registerTarget:function(e,t){this.scrollType.set(e,t||"none"),this.listen(this.events,e,this.boundHandler)},unregisterTarget:function(e){this.scrollType.set(e,null),this.unlisten(this.events,e,this.boundHandler)},down:function(e){this.fireEvent("pointerdown",e)},move:function(e){this.fireEvent("pointermove",e)},up:function(e){this.fireEvent("pointerup",e)},enter:function(e){this.fireEvent("pointerenter",e)},leave:function(e){this.fireEvent("pointerleave",e)},over:function(e){this.fireEvent("pointerover",e)},out:function(e){this.fireEvent("pointerout",e)},cancel:function(e){this.fireEvent("pointercancel",e)},eventHandler:function(e){if(!this.handledEvents.get(e)){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),this.handledEvents.set(e,!0)}},listen:function(e,t,n){e.forEach(function(e){this.addEvent(e,n,!1,t)},this)},unlisten:function(e,t,n){e.forEach(function(e){this.removeEvent(e,n,!1,t)},this)},addEvent:function(e,t,n,i){i.addEventListener(e,t,n)},removeEvent:function(e,t,n,i){i.removeEventListener(e,t,n)},makeEvent:function(e,t){var n=new PointerEvent(e,t);return this.targets.set(n,this.targets.get(t)||t.target),n},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){var t={};for(var n in e)t[n]=e[n];return t},getTarget:function(e){return this.captureInfo&&this.captureInfo.id===e.pointerId?this.captureInfo.target:this.targets.get(e)},setCapture:function(e,t){this.captureInfo&&this.releaseCapture(this.captureInfo.id),this.captureInfo={id:e,target:t};var n=new PointerEvent("gotpointercapture",{bubbles:!0});this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),this.targets.set(n,t),this.asyncDispatchEvent(n)},releaseCapture:function(e){if(this.captureInfo&&this.captureInfo.id===e){var t=new PointerEvent("lostpointercapture",{bubbles:!0}),n=this.captureInfo.target;this.captureInfo=null,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),this.targets.set(t,n),this.asyncDispatchEvent(t)}},dispatchEvent:function(e){var t=this.getTarget(e);return t?t.dispatchEvent(e):void 0},asyncDispatchEvent:function(e){setTimeout(this.dispatchEvent.bind(this,e),0)}};t.boundHandler=t.eventHandler.bind(t),e.dispatcher=t}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=Array.prototype.forEach.call.bind(Array.prototype.forEach),i=Array.prototype.map.call.bind(Array.prototype.map),r={ATTRIB:"touch-action",SELECTOR:"[touch-action]",EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|scroll$/,OBSERVER_INIT:{subtree:!0,childList:!0,attributes:!0,attributeFilter:["touch-action"]},watchSubtree:function(e){s.observe(e,this.OBSERVER_INIT)},enableOnSubtree:function(e){var t=e||document;this.watchSubtree(e),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(e){n(this.findElements(e),this.addElement,this)},findElements:function(e){var t=e||document;return t.querySelectorAll?t.querySelectorAll(this.SELECTOR):[]},touchActionToScrollType:function(e){var t=e;
return t===this.EMITTER?"none":t===this.XSCROLLER?"X":t===this.YSCROLLER?"Y":this.SCROLLER.exec(t)?"XY":void 0},removeElement:function(n){t.unregisterTarget(n);var i=e.targetFinding.shadow(n);i&&t.unregisterTarget(i)},addElement:function(n){var i=n.getAttribute&&n.getAttribute(this.ATTRIB),r=this.touchActionToScrollType(i);if(r){t.registerTarget(n,r);var o=e.targetFinding.shadow(n);o&&t.registerTarget(o,r)}},elementChanged:function(e){this.removeElement(e),this.addElement(e)},concatLists:function(e,t){for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)e.push(n);return e},installOnLoad:function(){document.addEventListener("DOMContentLoaded",this.installNewSubtree.bind(this,document))},flattenMutationTree:function(e){var t=i(e,this.findElements,this);return t.push(e),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){var t=e;if("childList"===t.type){var n=this.flattenMutationTree(t.addedNodes);n.forEach(this.addElement,this);var i=this.flattenMutationTree(t.removedNodes);i.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target)}},o=r.mutationWatcher.bind(r);e.installer=r,e.register=r.enableOnSubtree.bind(r),e.setTouchAction=function(e,n){var i=this.touchActionToScrollType(n);i?t.registerTarget(e,i):t.unregisterTarget(e)}.bind(r);var a=window.MutationObserver||window.WebKitMutationObserver;if(a)var s=new a(o);else r.watchSubtree=function(){console.warn("PointerEventsPolyfill: MutationObservers not found, touch-action will not be dynamically detected")}}(window.PointerEventsPolyfill),function(e){var t={shadow:function(e){return e?e.shadowRoot||e.webkitShadowRoot:void 0},targetingShadow:function(e){var t=this.shadow(e);return t&&t.elementFromPoint?t:void 0},searchRoot:function(e,t,n){if(e){var i,r,o,a=e.elementFromPoint(t,n);for(r=this.targetingShadow(a);r;){if(i=r.elementFromPoint(t,n)){var s=this.targetingShadow(i);return this.searchRoot(s,t,n)||i}o=r.querySelector("shadow"),r=o&&o.olderShadowRoot}return a}},findTarget:function(e){var t=e.clientX,n=e.clientY;return this.searchRoot(document,t,n)}};e.targetFinding=t,e.findTarget=t.findTarget.bind(t)}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=e.installer,i=e.findTarget,r=t.pointermap,o=Array.prototype.map.call.bind(Array.prototype.map),a=2500,s=25,c={events:["touchstart","touchmove","touchend","touchcancel"],POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){null===this.firstTouch&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1)},removePrimaryTouch:function(e){this.isPrimaryTouch(e)&&(this.firstTouch=null,this.firstXY=null)},touchToPointer:function(e){var n=t.cloneEvent(e);return n.pointerId=e.identifier+2,n.target=i(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=1,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n},processTouches:function(e,t){var n=e.changedTouches,i=o(n,this.touchToPointer,this);i.forEach(t,this)},shouldScroll:function(e){if(this.firstXY){var n,i=t.scrollType.get(e.currentTarget);if("none"===i)n=!1;else if("XY"===i)n=!0;else{var r=e.changedTouches[0],o=i,a="Y"===i?"X":"Y",s=Math.abs(r["client"+o]-this.firstXY[o]),c=Math.abs(r["client"+a]-this.firstXY[a]);n=s>=c}return this.firstXY=null,n}},findTouch:function(e,t){for(var n,i=0,r=e.length;r>i&&(n=e[i]);i++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(r.size>=t.length){var n=[];r.ids.forEach(function(e){if(1!==e&&!this.findTouch(t,e-2)){var i=r.get(e).out;n.push(this.touchToPointer(i))}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.scrolling||this.processTouches(e,this.overDown)},overDown:function(e){r.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),t.over(e),t.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var n=e,i=r.get(n.pointerId),o=i.out,a=i.outTarget;t.move(n),o&&a!==n.target&&(o.relatedTarget=n.target,n.relatedTarget=a,o.target=a,t.out(o),t.over(n)),i.out=n,i.outTarget=n.target},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(t.up(e),t.out(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){t.cancel(e),t.out(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){r.delete(e.pointerId),this.removePrimaryTouch(e)},dedupSynthMouse:function(e){var t=u.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};t.push(i);var r=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,i);setTimeout(r,a)}}},u={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],global:["mousedown","mouseup","mouseover","mouseout"],lastTouches:[],mouseHandler:t.eventHandler.bind(t),isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,i=e.clientX,r=e.clientY,o=0,a=n.length;a>o&&(t=n[o]);o++){var c=Math.abs(i-t.x),u=Math.abs(r-t.y);if(s>=c&&s>=u)return!0}},prepareEvent:function(e){var n=t.cloneEvent(e);return n.pointerId=this.POINTER_ID,n.isPrimary=!0,n.pointerType=this.POINTER_TYPE,n},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=r.has(this.POINTER_ID);if(n&&(this.cancel(e),n=!1),!n){var i=this.prepareEvent(e);r.set(this.POINTER_ID,e),t.down(i),t.listen(this.global,document,this.mouseHandler)}}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.move(n)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=r.get(this.POINTER_ID);if(n&&n.button===e.button){var i=this.prepareEvent(e);t.up(i),this.cleanupMouse()}}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.over(n)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.out(n)}},cancel:function(e){var n=this.prepareEvent(e);t.cancel(n),this.cleanupMouse()},cleanupMouse:function(){r.delete(this.POINTER_ID),t.unlisten(this.global,document,this.mouseHandler)}},h={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var n=t.cloneEvent(e);return n.pointerType=this.POINTER_TYPES[e.pointerType],n},MSPointerDown:function(e){var n=this.prepareEvent(e);t.down(n)},MSPointerMove:function(e){var n=this.prepareEvent(e);t.move(n)},MSPointerUp:function(e){var n=this.prepareEvent(e);t.up(n)},MSPointerOut:function(e){var n=this.prepareEvent(e);t.out(n)},MSPointerOver:function(e){var n=this.prepareEvent(e);t.over(n)},MSPointerCancel:function(e){var n=this.prepareEvent(e);t.cancel(n)},MSLostPointerCapture:function(e){var n=t.makeEvent("lostpointercapture",e);t.dispatchEvent(n)},MSGotPointerCapture:function(e){var n=t.makeEvent("gotpointercapture",e);t.dispatchEvent(n)}};if(void 0===window.navigator.pointerEnabled){if(window.navigator.msPointerEnabled){var l=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:l,enumerable:!0}),t.registerSource("ms",h),t.registerTarget(document)}else t.registerSource("mouse",u),"ontouchstart"in window&&t.registerSource("touch",c),n.enableOnSubtree(document),t.listen(["mousemove"],document,t.boundHandler);Object.defineProperty(window.navigator,"pointerEnabled",{value:!0,enumerable:!0})}}(window.PointerEventsPolyfill),function(e){var t,n,i=e.dispatcher,r=window.navigator,o=function(e){if(!i.pointermap.has(e))throw new Error("InvalidPointerId");return!0};r.msPointerEnabled?(t=Element.prototype.msSetPointerCapture,n=Element.prototype.msReleasePointerCapture):(t=function(e){o(e)&&i.setCapture(e,this)},n=function(e){o(e)&&i.releaseCapture(e,this)}),Element.prototype.setPointerCapture||Object.defineProperties(Element.prototype,{setPointerCapture:{value:t},releasePointerCapture:{value:n}})}(window.PointerEventsPolyfill),PointerGestureEvent.prototype.preventTap=function(){this.tapPrevented=!0},function(e){e=e||{},e.utils={LCA:{find:function(e,t){if(e===t)return e;if(e.compareDocumentPosition){var n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_CONTAINS)return t;if(n&Node.DOCUMENT_POSITION_CONTAINED_BY)return e}var i=this.depth(e),r=this.depth(t),o=i-r;for(o>0?e=this.walk(e,o):t=this.walk(t,-o);e&&t&&e!==t;)e=this.walk(e,1),t=this.walk(t,1);return e},walk:function(e,t){for(var n=0;t>n;n++)e=e.parentNode;return e},depth:function(e){for(var t=0;e;)t++,e=e.parentNode;return t}}},e.findLCA=function(t,n){return e.utils.LCA.find(t,n)},window.PointerGestures=e}(window.PointerGestures),function(e){var t;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?t=WeakMap:(t=function(e){this.name="__$"+e+"$__"},t.prototype={set:function(e,t){Object.defineProperty(e,this.name,{value:t,writable:!0})},get:function(e){return e[this.name]}}),e.SideTable=t}(window.PointerGestures),function(e){function t(){this.ids=[],this.pointers=[]}t.prototype={set:function(e,t){var n=this.ids.indexOf(e);n>-1?this.pointers[n]=t:(this.ids.push(e),this.pointers.push(t))},has:function(e){return this.ids.indexOf(e)>-1},"delete":function(e){var t=this.ids.indexOf(e);t>-1&&(this.ids.splice(t,1),this.pointers.splice(t,1))},get:function(e){var t=this.ids.indexOf(e);return this.pointers[t]},item:function(e){return this.pointers[e]},get size(){return this.pointers.length}},e.PointerMap=t}(window.PointerGestures),function(e){var t={handledEvents:new e.SideTable("gesture"),targets:new e.SideTable("target"),handlers:{},recognizers:{},events:["pointerdown","pointermove","pointerup","pointerover","pointerout","pointercancel"],registerRecognizer:function(e,t){var n=t;this.recognizers[e]=n,this.events.forEach(function(e){if(n[e]){var t=n[e].bind(n);this.addHandler(e,t)}},this)},addHandler:function(e,t){var n=e;this.handlers[n]||(this.handlers[n]=[]),this.handlers[n].push(t)},registerTarget:function(e){this.listen(this.events,e)},unregisterTarget:function(e){this.unlisten(this.events,e)},eventHandler:function(e){if(!this.handledEvents.get(e)){var t,n=e.type;(t=this.handlers[n])&&this.makeQueue(t,e),this.handledEvents.set(e,!0)}},makeQueue:function(e,t){var n=this.cloneEvent(t);setTimeout(this.runQueue.bind(this,e,n),0)},runQueue:function(e,t){this.currentPointerId=t.pointerId;for(var n,i=0,r=e.length;r>i&&(n=e[i]);i++)n(t);this.currentPointerId=0},listen:function(e,t){e.forEach(function(e){this.addEvent(e,this.boundHandler,!1,t)},this)},unlisten:function(e){e.forEach(function(e){this.removeEvent(e,this.boundHandler,!1,inTarget)},this)},addEvent:function(e,t,n,i){i.addEventListener(e,t,n)},removeEvent:function(e,t,n,i){i.removeEventListener(e,t,n)},makeEvent:function(e,t){return new PointerGestureEvent(e,t)},cloneEvent:function(e){var t={};for(var n in e)t[n]=e[n];return t},dispatchEvent:function(e,t){var n=t||this.targets.get(e);n&&(n.dispatchEvent(e),e.tapPrevented&&this.preventTap(this.currentPointerId))},asyncDispatchEvent:function(e,t){var n=function(){this.dispatchEvent(e,t)}.bind(this);setTimeout(n,0)},preventTap:function(e){var t=this.recognizers.tap;t&&t.preventTap(e)}};t.boundHandler=t.eventHandler.bind(t),e.dispatcher=t,e.register=function(t){var n=window.PointerEventsPolyfill;n&&n.register(t),e.dispatcher.registerTarget(t)},t.registerTarget(document)}(window.PointerGestures),function(e){var t=e.dispatcher,n={HOLD_DELAY:200,WIGGLE_THRESHOLD:16,events:["pointerdown","pointermove","pointerup","pointercancel"],heldPointer:null,holdJob:null,pulse:function(){var e=Date.now()-this.heldPointer.timeStamp,t=this.held?"holdpulse":"hold";this.fireHold(t,e),this.held=!0},cancel:function(){clearInterval(this.holdJob),this.held&&this.fireHold("release"),this.held=!1,this.heldPointer=null,this.target=null,this.holdJob=null},pointerdown:function(e){e.isPrimary&&!this.heldPointer&&(this.heldPointer=e,this.target=e.target,this.holdJob=setInterval(this.pulse.bind(this),this.HOLD_DELAY))},pointerup:function(e){this.heldPointer&&this.heldPointer.pointerId===e.pointerId&&this.cancel()},pointercancel:function(){this.cancel()},pointermove:function(e){if(this.heldPointer&&this.heldPointer.pointerId===e.pointerId){var t=e.clientX-this.heldPointer.clientX,n=e.clientY-this.heldPointer.clientY;t*t+n*n>this.WIGGLE_THRESHOLD&&this.cancel()}},fireHold:function(e,n){var i={pointerType:this.heldPointer.pointerType};n&&(i.holdTime=n);var r=t.makeEvent(e,i);t.dispatchEvent(r,this.target),r.tapPrevented&&t.preventTap(this.heldPointer.pointerId)}};t.registerRecognizer("hold",n)}(window.PointerGestures),function(e){var t=e.dispatcher,n=new e.PointerMap,i={events:["pointerdown","pointermove","pointerup","pointercancel"],WIGGLE_THRESHOLD:4,clampDir:function(e){return e>0?1:-1},calcPositionDelta:function(e,t){var n=0,i=0;return e&&t&&(n=t.clientX-e.clientX,i=t.clientY-e.clientY),{x:n,y:i}},fireTrack:function(e,n,i){var r=i,o=this.calcPositionDelta(r.downEvent,n),a=this.calcPositionDelta(r.lastMoveEvent,n);a.x&&(r.xDirection=this.clampDir(a.x)),a.y&&(r.yDirection=this.clampDir(a.y));var s=t.makeEvent(e,{dx:o.x,dy:o.y,ddx:a.x,ddy:a.y,xDirection:r.xDirection,yDirection:r.yDirection,trackInfo:r.trackInfo,pointerType:n.pointerType});r.lastMoveEvent=n,t.dispatchEvent(s,r.downTarget)},pointerdown:function(e){if(e.isPrimary){var t={downEvent:e,downTarget:e.target,trackInfo:{},lastMoveEvent:null,xDirection:0,yDirection:0,tracking:!1};n.set(e.pointerId,t)}},pointermove:function(e){var t=n.get(e.pointerId);if(t)if(t.tracking)this.fireTrack("track",e,t);else{var i=this.calcPositionDelta(t.downEvent,e),r=i.x*i.x+i.y*i.y;r>this.WIGGLE_THRESHOLD&&(t.tracking=!0,this.fireTrack("trackstart",t.downEvent,t),this.fireTrack("track",e,t))}},pointerup:function(e){var t=n.get(e.pointerId);t&&(t.tracking&&this.fireTrack("trackend",e,t),n.delete(e.pointerId))},pointercancel:function(e){this.pointerup(e)}};t.registerRecognizer("track",i)}(window.PointerGestures),function(e){var t=e.dispatcher,n={MIN_VELOCITY:.5,MAX_QUEUE:4,moveQueue:[],target:null,pointerId:null,events:["pointerdown","pointermove","pointerup","pointercancel"],pointerdown:function(e){e.isPrimary&&!this.pointerId&&(this.pointerId=e.pointerId,this.target=e.target,this.addMove(e))},pointermove:function(e){e.pointerId===this.pointerId&&this.addMove(e)},pointerup:function(e){e.pointerId===this.pointerId&&this.fireFlick(e),this.cleanup()},pointercancel:function(){this.cleanup()},cleanup:function(){this.moveQueue=[],this.target=null,this.pointerId=null},addMove:function(e){this.moveQueue.length>=this.MAX_QUEUE&&this.moveQueue.shift(),this.moveQueue.push(e)},fireFlick:function(e){for(var n,i,r,o,a,s,c,u=e,h=this.moveQueue.length,l=0,d=0,p=0,f=0;h>f&&(c=this.moveQueue[f]);f++)n=u.timeStamp-c.timeStamp,i=u.clientX-c.clientX,r=u.clientY-c.clientY,o=i/n,a=r/n,s=Math.sqrt(o*o+a*a),s>p&&(l=o,d=a,p=s);var v=Math.abs(l)>Math.abs(d)?"x":"y",m=this.calcAngle(l,d);if(Math.abs(p)>=this.MIN_VELOCITY){var b=t.makeEvent("flick",{xVelocity:l,yVelocity:d,velocity:p,angle:m,majorAxis:v,pointerType:e.pointerType});t.dispatchEvent(b,this.target)}},calcAngle:function(e,t){return 180*Math.atan2(t,e)/Math.PI}};t.registerRecognizer("flick",n)}(window.PointerGestures),function(e){var t=e.dispatcher,n=new e.PointerMap,i={events:["pointerdown","pointermove","pointerup","pointercancel"],pointerdown:function(e){e.isPrimary&&!e.tapPrevented&&n.set(e.pointerId,{target:e.target,x:e.clientX,y:e.clientY})},pointermove:function(e){if(e.isPrimary){var t=n.get(e.pointerId);t&&e.tapPrevented&&n.delete(e.pointerId)}},pointerup:function(i){var r=n.get(i.pointerId);if(r&&!i.tapPrevented){var o=e.findLCA(r.target,i.target);if(o){var a=t.makeEvent("tap",{x:i.clientX,y:i.clientY,pointerType:i.pointerType});t.dispatchEvent(a,o)}}n.delete(i.pointerId)},pointercancel:function(e){n.delete(e.pointerId)},preventTap:function(e){n.delete(e)}};t.registerRecognizer("tap",i)}(window.PointerGestures);
//@ sourceMappingURL=platform.native.min.js.map